@using OnlineShop.Db.Models

@model UserDeliveryInfo
@{
    ViewData["Title"] = "Страница оформления заказа";
}

<h2 align="center">Оформление заказа</h2>

@if (Model != null)
{
    <form method="post" asp-controller="Order" asp-action="Add">
        <div class="row">
            <div class="col text-center">
                <div class="validation" asp-validation-summary="All"></div>
                <div>
                    <label>E-mail</label>
                    <div>
                        <input asp-for="Email" name="Email" type="email" required />
                        <div>
                            <span asp-validation-for="Email"></span>
                        </div>
                    </div>
                </div>
                <div>
                    <label>Телефон</label>
                    <div>
                        <input type="tel" pattern="\d{4}-\d{3}-\d{4}" name="phone" required />
                        <div>
                            <span asp-validation-for="Phone"></span>
                        </div>
                    </div>
                </div>
                <div>
                    <label>Адрес</label>
                    <div>
                        <input asp-for="Address" name="Address" type="text" required minlength="2" maxlength="25" />
                        <div>
                            <span asp-validation-for="Address"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
@*        <div>
            <br />
            <h4 align="left">Детали заказа</h4>
            <div class="row">
                <table class="table">
                    <tr>
                        <th>Название</th>
                        <th>Цена руб.</th>
                        <th>Количество</th>
                        <th>Стоимость руб.</th>
                    </tr>
                    @foreach (var Item in Model.Cart.Items)
                    {
                        <tr>
                            <td>@Item.Product.Name</td>
                            <td>@Item.Product.CostOrder</td>
                            <td>@Item.Amount</td>
                            <td>@Item.Cost</td>
                        </tr>
                    }
                </table>
            </div>
        </div>
        <div class="text-right">
            <h4>Итоговая сумма: @Model.Cart.Cost руб.</h4>
        </div>
        <div>
            <input type="submit" class="btn btn-dark" value="Оформить заказ" />
        </div>*@
    </form>
    <div>
        @Html.ActionLink("Назад в корзину", "Index", "Cart")
    </div>
}
else
{
    <h2 class="text-center">Заказов нет</h2>
    <a href="/home/index" class="btn btn-dark">Перейти к списку услуг</a>
}